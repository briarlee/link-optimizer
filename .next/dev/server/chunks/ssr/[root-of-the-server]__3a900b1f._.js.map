{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/context/AppContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, ReactNode } from 'react';\nimport { \n  InternalPage, \n  KeywordResult, \n  SelectedLink, \n  SEOScore,\n  UserSettings,\n  SiteConfig,\n  ExternalLink,\n  SuggestedLink\n} from '@/types';\n\ninterface AppState {\n  // 文本内容\n  text: string;\n  setText: (text: string) => void;\n\n  // 站点配置\n  siteConfig: SiteConfig | null;\n  setSiteConfig: (config: SiteConfig | null) => void;\n\n  // 用户设置\n  settings: UserSettings;\n  setSettings: (settings: UserSettings) => void;\n\n  // 关键词分析结果\n  keywords: KeywordResult[];\n  setKeywords: (keywords: KeywordResult[]) => void;\n\n  // 选中的链接\n  selectedLinks: SelectedLink[];\n  addLink: (link: SelectedLink) => void;\n  removeLink: (keyword: string) => void;\n  updateLink: (keyword: string, link: Partial<SelectedLink>) => void;\n\n  // SEO 评分\n  seoScore: SEOScore | null;\n  setSeoScore: (score: SEOScore | null) => void;\n\n  // 加载状态\n  isAnalyzing: boolean;\n  setIsAnalyzing: (loading: boolean) => void;\n  isScanning: boolean;\n  setIsScanning: (loading: boolean) => void;\n  isSearching: boolean;\n  setIsSearching: (loading: boolean) => void;\n\n  // 外链搜索结果缓存\n  externalLinksCache: Record<string, ExternalLink[]>;\n  setExternalLinksCache: (keyword: string, links: ExternalLink[]) => void;\n\n  // 重置\n  reset: () => void;\n}\n\nconst defaultSettings: UserSettings = {\n  preferredDomains: [],\n  blacklistedDomains: [],\n  maxInternalLinks: 10,\n  maxExternalLinks: 5,\n};\n\nconst AppContext = createContext<AppState | null>(null);\n\nexport function AppProvider({ children }: { children: ReactNode }) {\n  const [text, setText] = useState('');\n  const [siteConfig, setSiteConfig] = useState<SiteConfig | null>(null);\n  const [settings, setSettings] = useState<UserSettings>(defaultSettings);\n  const [keywords, setKeywords] = useState<KeywordResult[]>([]);\n  const [selectedLinks, setSelectedLinks] = useState<SelectedLink[]>([]);\n  const [seoScore, setSeoScore] = useState<SEOScore | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isScanning, setIsScanning] = useState(false);\n  const [isSearching, setIsSearching] = useState(false);\n  const [externalLinksCache, setExternalLinksCacheState] = useState<Record<string, ExternalLink[]>>({});\n\n  const addLink = (link: SelectedLink) => {\n    setSelectedLinks(prev => {\n      const exists = prev.find(l => l.keyword === link.keyword);\n      if (exists) {\n        return prev.map(l => l.keyword === link.keyword ? link : l);\n      }\n      return [...prev, link];\n    });\n  };\n\n  const removeLink = (keyword: string) => {\n    setSelectedLinks(prev => prev.filter(l => l.keyword !== keyword));\n  };\n\n  const updateLink = (keyword: string, updates: Partial<SelectedLink>) => {\n    setSelectedLinks(prev => \n      prev.map(l => l.keyword === keyword ? { ...l, ...updates } : l)\n    );\n  };\n\n  const setExternalLinksCache = (keyword: string, links: ExternalLink[]) => {\n    setExternalLinksCacheState(prev => ({ ...prev, [keyword]: links }));\n  };\n\n  const reset = () => {\n    setText('');\n    setKeywords([]);\n    setSelectedLinks([]);\n    setSeoScore(null);\n    setExternalLinksCacheState({});\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        text,\n        setText,\n        siteConfig,\n        setSiteConfig,\n        settings,\n        setSettings,\n        keywords,\n        setKeywords,\n        selectedLinks,\n        addLink,\n        removeLink,\n        updateLink,\n        seoScore,\n        setSeoScore,\n        isAnalyzing,\n        setIsAnalyzing,\n        isScanning,\n        setIsScanning,\n        isSearching,\n        setIsSearching,\n        externalLinksCache,\n        setExternalLinksCache,\n        reset,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport function useApp() {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within AppProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAyDA,MAAM,kBAAgC;IACpC,kBAAkB,EAAE;IACpB,oBAAoB,EAAE;IACtB,kBAAkB;IAClB,kBAAkB;AACpB;AAEA,MAAM,2BAAa,IAAA,wPAAa,EAAkB;AAE3C,SAAS,YAAY,EAAE,QAAQ,EAA2B;IAC/D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mPAAQ,EAAC;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mPAAQ,EAAoB;IAChE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAe;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAkB,EAAE;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mPAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAkB;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAC;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mPAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAC;IAC/C,MAAM,CAAC,oBAAoB,2BAA2B,GAAG,IAAA,mPAAQ,EAAiC,CAAC;IAEnG,MAAM,UAAU,CAAC;QACf,iBAAiB,CAAA;YACf,MAAM,SAAS,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,KAAK,OAAO;YACxD,IAAI,QAAQ;gBACV,OAAO,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,KAAK,OAAO,GAAG,OAAO;YAC3D;YACA,OAAO;mBAAI;gBAAM;aAAK;QACxB;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,iBAAiB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK;IAC1D;IAEA,MAAM,aAAa,CAAC,SAAiB;QACnC,iBAAiB,CAAA,OACf,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,KAAK,UAAU;oBAAE,GAAG,CAAC;oBAAE,GAAG,OAAO;gBAAC,IAAI;IAEjE;IAEA,MAAM,wBAAwB,CAAC,SAAiB;QAC9C,2BAA2B,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,QAAQ,EAAE;YAAM,CAAC;IACnE;IAEA,MAAM,QAAQ;QACZ,QAAQ;QACR,YAAY,EAAE;QACd,iBAAiB,EAAE;QACnB,YAAY;QACZ,2BAA2B,CAAC;IAC9B;IAEA,qBACE,gRAAC,WAAW,QAAQ;QAClB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,qPAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qJACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,qJACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}