{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,wMAAO,EAAC,IAAA,+KAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:scale-[1.02] active:scale-[0.98]\",\n        secondary:\n          \"bg-slate-800 text-slate-100 hover:bg-slate-700 border border-slate-700\",\n        outline:\n          \"border border-slate-600 bg-transparent hover:bg-slate-800 hover:text-slate-100\",\n        ghost: \"hover:bg-slate-800 hover:text-slate-100\",\n        destructive:\n          \"bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/20\",\n      },\n      size: {\n        default: \"h-10 px-5 py-2\",\n        sm: \"h-8 px-3 text-xs\",\n        lg: \"h-12 px-8 text-base\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,IAAA,yMAAG,EACxB,2PACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,SACE;YACF,OAAO;YACP,aACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAOF,MAAM,uBAAS,qPAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACvC,qBACE,gRAAC;QACC,WAAW,IAAA,2JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-lg border border-slate-700 bg-slate-900/50 px-4 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,sBAAQ,qPAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,gRAAC;QACC,MAAM;QACN,WAAW,IAAA,2JAAE,EACX,kSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-2xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm shadow-xl shadow-black/20\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-xl font-semibold leading-none tracking-tight text-slate-100\",\n      className\n    )}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-slate-400\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,qPAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,qPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,qPAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,qPAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,qPAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QAAI,KAAK;QAAK,WAAW,IAAA,2JAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,qPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC;QACC,KAAK;QACL,WAAW,IAAA,2JAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20\",\n        secondary: \"bg-slate-700 text-slate-300 border border-slate-600\",\n        internal: \"bg-blue-500/10 text-blue-400 border border-blue-500/20\",\n        external: \"bg-purple-500/10 text-purple-400 border border-purple-500/20\",\n        warning: \"bg-amber-500/10 text-amber-400 border border-amber-500/20\",\n        destructive: \"bg-red-500/10 text-red-400 border border-red-500/20\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,yMAAG,EACvB,6FACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,UAAU;YACV,UAAU;YACV,SAAS;YACT,aAAa;QACf;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,gRAAC;QAAI,WAAW,IAAA,2JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\nimport { cn } from \"@/lib/utils\";\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-slate-800\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,yBAAW,qPAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,gRAAC,8MAAsB;QACrB,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,gRAAC,mNAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,8MAAsB,CAAC,WAAW"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/SiteScanner.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { Globe, Scan, Check, X, Trash2, ExternalLink, ChevronDown, ChevronUp } from 'lucide-react';\n\nexport function SiteScanner() {\n  const { siteConfig, setSiteConfig, isScanning, setIsScanning } = useApp();\n  const [url, setUrl] = useState('');\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [showAllPages, setShowAllPages] = useState(false);\n\n  const handleScan = async () => {\n    if (!url.trim()) {\n      setError('Please enter a URL');\n      return;\n    }\n\n    // 验证 URL\n    try {\n      new URL(url);\n    } catch {\n      setError('Please enter a valid URL');\n      return;\n    }\n\n    setError('');\n    setIsScanning(true);\n    setProgress(10);\n\n    try {\n      // 模拟进度\n      const progressInterval = setInterval(() => {\n        setProgress(prev => Math.min(prev + 5, 90));\n      }, 2000);\n\n      const response = await fetch('/api/scrape', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url, maxPages: 500 }),\n      });\n\n      clearInterval(progressInterval);\n      setProgress(100);\n\n      const result = await response.json();\n\n      if (result.success) {\n        setSiteConfig(result.data);\n      } else {\n        setError(result.error || 'Scan failed');\n      }\n    } catch (err) {\n      setError('Network error. Please try again.');\n    } finally {\n      setIsScanning(false);\n      setTimeout(() => setProgress(0), 500);\n    }\n  };\n\n  const handleClear = () => {\n    setSiteConfig(null);\n    setUrl('');\n    setShowAllPages(false);\n  };\n\n  const displayedPages = showAllPages \n    ? siteConfig?.pages || [] \n    : (siteConfig?.pages || []).slice(0, 10);\n\n  const remainingCount = (siteConfig?.pages.length || 0) - 10;\n\n  return (\n    <Card className=\"border-slate-800 bg-gradient-to-br from-slate-900 to-slate-900/50\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/10\">\n            <Globe className=\"h-5 w-5 text-blue-400\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-lg\">Internal Links Database</CardTitle>\n            <CardDescription>Scan your website to build internal link suggestions</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {!siteConfig ? (\n          <>\n            <div className=\"flex gap-2\">\n              <Input\n                placeholder=\"https://example.com\"\n                value={url}\n                onChange={(e) => setUrl(e.target.value)}\n                disabled={isScanning}\n                className=\"flex-1\"\n              />\n              <Button\n                onClick={handleScan}\n                disabled={isScanning}\n                className=\"min-w-[100px]\"\n              >\n                {isScanning ? (\n                  <>\n                    <Scan className=\"h-4 w-4 animate-spin\" />\n                    Scanning\n                  </>\n                ) : (\n                  <>\n                    <Scan className=\"h-4 w-4\" />\n                    Scan\n                  </>\n                )}\n              </Button>\n            </div>\n\n            {isScanning && (\n              <div className=\"space-y-2\">\n                <Progress value={progress} />\n                <p className=\"text-xs text-slate-500\">Scanning pages... This may take a few minutes for large sites.</p>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"flex items-center gap-2 rounded-lg bg-red-500/10 px-3 py-2 text-sm text-red-400\">\n                <X className=\"h-4 w-4\" />\n                {error}\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Check className=\"h-5 w-5 text-emerald-400\" />\n                <span className=\"font-medium text-slate-200\">{siteConfig.domain}</span>\n              </div>\n              <Button variant=\"ghost\" size=\"sm\" onClick={handleClear}>\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n\n            <div className=\"flex flex-wrap gap-2\">\n              <Badge variant=\"internal\">\n                {siteConfig.pages.length} pages indexed\n              </Badge>\n              <Badge variant=\"secondary\">\n                Last scan: {new Date(siteConfig.lastScanned!).toLocaleDateString()}\n              </Badge>\n            </div>\n\n            <div className=\"max-h-[400px] overflow-y-auto rounded-lg border border-slate-800 bg-slate-950/50\">\n              {displayedPages.map((page, i) => (\n                <div\n                  key={page.url}\n                  className=\"flex items-center justify-between border-b border-slate-800 px-3 py-2 last:border-0 hover:bg-slate-800/30\"\n                >\n                  <div className=\"min-w-0 flex-1\">\n                    <p className=\"truncate text-sm text-slate-300\">{page.title}</p>\n                    <p className=\"truncate text-xs text-slate-500\">{page.url}</p>\n                  </div>\n                  <a\n                    href={page.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"ml-2 text-slate-500 hover:text-slate-300\"\n                  >\n                    <ExternalLink className=\"h-3 w-3\" />\n                  </a>\n                </div>\n              ))}\n            </div>\n\n            {siteConfig.pages.length > 10 && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setShowAllPages(!showAllPages)}\n                className=\"w-full text-slate-400\"\n              >\n                {showAllPages ? (\n                  <>\n                    <ChevronUp className=\"mr-2 h-4 w-4\" />\n                    Show less\n                  </>\n                ) : (\n                  <>\n                    <ChevronDown className=\"mr-2 h-4 w-4\" />\n                    Show all {siteConfig.pages.length} pages (+{remainingCount} more)\n                  </>\n                )}\n              </Button>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;;;;;;;;;;AAWO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,UAAU,EAAE,aAAa,EAAE,GAAG,IAAA,yKAAM;IACvE,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,mPAAQ,EAAC;IAC/B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mPAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mPAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mPAAQ,EAAC;IAEjD,MAAM,aAAa;QACjB,IAAI,CAAC,IAAI,IAAI,IAAI;YACf,SAAS;YACT;QACF;QAEA,SAAS;QACT,IAAI;YACF,IAAI,IAAI;QACV,EAAE,OAAM;YACN,SAAS;YACT;QACF;QAEA,SAAS;QACT,cAAc;QACd,YAAY;QAEZ,IAAI;YACF,OAAO;YACP,MAAM,mBAAmB,YAAY;gBACnC,YAAY,CAAA,OAAQ,KAAK,GAAG,CAAC,OAAO,GAAG;YACzC,GAAG;YAEH,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAK,UAAU;gBAAI;YAC5C;YAEA,cAAc;YACd,YAAY;YAEZ,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,cAAc,OAAO,IAAI;YAC3B,OAAO;gBACL,SAAS,OAAO,KAAK,IAAI;YAC3B;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,cAAc;YACd,WAAW,IAAM,YAAY,IAAI;QACnC;IACF;IAEA,MAAM,cAAc;QAClB,cAAc;QACd,OAAO;QACP,gBAAgB;IAClB;IAEA,MAAM,iBAAiB,eACnB,YAAY,SAAS,EAAE,GACvB,CAAC,YAAY,SAAS,EAAE,EAAE,KAAK,CAAC,GAAG;IAEvC,MAAM,iBAAiB,CAAC,YAAY,MAAM,UAAU,CAAC,IAAI;IAEzD,qBACE,gRAAC,0KAAI;QAAC,WAAU;;0BACd,gRAAC,gLAAU;0BACT,cAAA,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;sCACb,cAAA,gRAAC,+OAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,gRAAC;;8CACC,gRAAC,+KAAS;oCAAC,WAAU;8CAAU;;;;;;8CAC/B,gRAAC,qLAAe;8CAAC;;;;;;;;;;;;;;;;;;;;;;;0BAIvB,gRAAC,iLAAW;gBAAC,WAAU;0BACpB,CAAC,2BACA;;sCACE,gRAAC;4BAAI,WAAU;;8CACb,gRAAC,4KAAK;oCACJ,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;oCACtC,UAAU;oCACV,WAAU;;;;;;8CAEZ,gRAAC,8KAAM;oCACL,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,2BACC;;0DACE,gRAAC,4OAAI;gDAAC,WAAU;;;;;;4CAAyB;;qEAI3C;;0DACE,gRAAC,4OAAI;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;wBAOnC,4BACC,gRAAC;4BAAI,WAAU;;8CACb,gRAAC,kLAAQ;oCAAC,OAAO;;;;;;8CACjB,gRAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;wBAIzC,uBACC,gRAAC;4BAAI,WAAU;;8CACb,gRAAC,mOAAC;oCAAC,WAAU;;;;;;gCACZ;;;;;;;;iDAKP,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;;sDACb,gRAAC,+OAAK;4CAAC,WAAU;;;;;;sDACjB,gRAAC;4CAAK,WAAU;sDAA8B,WAAW,MAAM;;;;;;;;;;;;8CAEjE,gRAAC,8KAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAK,SAAS;8CACzC,cAAA,gRAAC,sPAAM;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAItB,gRAAC;4BAAI,WAAU;;8CACb,gRAAC,4KAAK;oCAAC,SAAQ;;wCACZ,WAAW,KAAK,CAAC,MAAM;wCAAC;;;;;;;8CAE3B,gRAAC,4KAAK;oCAAC,SAAQ;;wCAAY;wCACb,IAAI,KAAK,WAAW,WAAW,EAAG,kBAAkB;;;;;;;;;;;;;sCAIpE,gRAAC;4BAAI,WAAU;sCACZ,eAAe,GAAG,CAAC,CAAC,MAAM,kBACzB,gRAAC;oCAEC,WAAU;;sDAEV,gRAAC;4CAAI,WAAU;;8DACb,gRAAC;oDAAE,WAAU;8DAAmC,KAAK,KAAK;;;;;;8DAC1D,gRAAC;oDAAE,WAAU;8DAAmC,KAAK,GAAG;;;;;;;;;;;;sDAE1D,gRAAC;4CACC,MAAM,KAAK,GAAG;4CACd,QAAO;4CACP,KAAI;4CACJ,WAAU;sDAEV,cAAA,gRAAC,wQAAY;gDAAC,WAAU;;;;;;;;;;;;mCAbrB,KAAK,GAAG;;;;;;;;;;wBAmBlB,WAAW,KAAK,CAAC,MAAM,GAAG,oBACzB,gRAAC,8KAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS,IAAM,gBAAgB,CAAC;4BAChC,WAAU;sCAET,6BACC;;kDACE,gRAAC,+PAAS;wCAAC,WAAU;;;;;;oCAAiB;;6DAIxC;;kDACE,gRAAC,qQAAW;wCAAC,WAAU;;;;;;oCAAiB;oCAC9B,WAAW,KAAK,CAAC,MAAM;oCAAC;oCAAU;oCAAe;;;;;;;;;;;;;;;;;;;;;;;;;AAU/E"}},
    {"offset": {"line": 711, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[160px] w-full rounded-lg border border-slate-700 bg-slate-900/50 px-4 py-3 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-50 resize-none transition-all duration-200\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,yBAAW,qPAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,gRAAC;QACC,WAAW,IAAA,2JAAE,EACX,uTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/TextEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useApp } from '@/context/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { FileText, Sparkles, RotateCcw } from 'lucide-react';\n\nexport function TextEditor() {\n  const {\n    text,\n    setText,\n    siteConfig,\n    settings,\n    setKeywords,\n    setIsAnalyzing,\n    isAnalyzing,\n    reset,\n  } = useApp();\n\n  const handleAnalyze = async () => {\n    if (!text.trim()) return;\n\n    setIsAnalyzing(true);\n\n    try {\n      const response = await fetch('/api/analyze', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text,\n          internalPages: siteConfig?.pages || [],\n        }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setKeywords(result.data);\n      } else {\n        console.error('Analysis failed:', result.error);\n      }\n    } catch (error) {\n      console.error('Analysis error:', error);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const wordCount = text.trim() ? text.trim().split(/\\s+/).length : 0;\n  const charCount = text.length;\n\n  return (\n    <Card className=\"border-slate-800 bg-gradient-to-br from-slate-900 to-slate-900/50\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-500/10\">\n              <FileText className=\"h-5 w-5 text-emerald-400\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Content Editor</CardTitle>\n              <CardDescription>Paste your English article to analyze</CardDescription>\n            </div>\n          </div>\n          {text && (\n            <Button variant=\"ghost\" size=\"sm\" onClick={reset}>\n              <RotateCcw className=\"mr-1 h-4 w-4\" />\n              Clear\n            </Button>\n          )}\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <Textarea\n          placeholder=\"Paste your article content here...\n\nThe tool will identify keywords and phrases that would benefit from hyperlinks, then suggest relevant internal and external links to enhance your content's SEO value.\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          className=\"min-h-[250px] font-mono text-sm leading-relaxed\"\n          disabled={isAnalyzing}\n        />\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex gap-4 text-sm text-slate-500\">\n            <span>{wordCount.toLocaleString()} words</span>\n            <span>{charCount.toLocaleString()} characters</span>\n          </div>\n\n          <Button\n            onClick={handleAnalyze}\n            disabled={!text.trim() || isAnalyzing}\n            size=\"lg\"\n          >\n            {isAnalyzing ? (\n              <>\n                <Sparkles className=\"mr-2 h-4 w-4 animate-pulse\" />\n                Analyzing...\n              </>\n            ) : (\n              <>\n                <Sparkles className=\"mr-2 h-4 w-4\" />\n                Analyze Keywords\n              </>\n            )}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;;;;;;;AAQO,SAAS;IACd,MAAM,EACJ,IAAI,EACJ,OAAO,EACP,UAAU,EACV,QAAQ,EACR,WAAW,EACX,cAAc,EACd,WAAW,EACX,KAAK,EACN,GAAG,IAAA,yKAAM;IAEV,MAAM,gBAAgB;QACpB,IAAI,CAAC,KAAK,IAAI,IAAI;QAElB,eAAe;QAEf,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,eAAe,YAAY,SAAS,EAAE;gBACxC;YACF;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,YAAY,OAAO,IAAI;YACzB,OAAO;gBACL,QAAQ,KAAK,CAAC,oBAAoB,OAAO,KAAK;YAChD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;QACnC,SAAU;YACR,eAAe;QACjB;IACF;IAEA,MAAM,YAAY,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,OAAO,MAAM,GAAG;IAClE,MAAM,YAAY,KAAK,MAAM;IAE7B,qBACE,gRAAC,0KAAI;QAAC,WAAU;;0BACd,gRAAC,gLAAU;0BACT,cAAA,gRAAC;oBAAI,WAAU;;sCACb,gRAAC;4BAAI,WAAU;;8CACb,gRAAC;oCAAI,WAAU;8CACb,cAAA,gRAAC,4PAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,gRAAC;;sDACC,gRAAC,+KAAS;4CAAC,WAAU;sDAAU;;;;;;sDAC/B,gRAAC,qLAAe;sDAAC;;;;;;;;;;;;;;;;;;wBAGpB,sBACC,gRAAC,8KAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAK,SAAS;;8CACzC,gRAAC,+PAAS;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;0BAM9C,gRAAC,iLAAW;gBAAC,WAAU;;kCACrB,gRAAC,kLAAQ;wBACP,aAAY;wBAGZ,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,WAAU;wBACV,UAAU;;;;;;kCAGZ,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCAAI,WAAU;;kDACb,gRAAC;;4CAAM,UAAU,cAAc;4CAAG;;;;;;;kDAClC,gRAAC;;4CAAM,UAAU,cAAc;4CAAG;;;;;;;;;;;;;0CAGpC,gRAAC,8KAAM;gCACL,SAAS;gCACT,UAAU,CAAC,KAAK,IAAI,MAAM;gCAC1B,MAAK;0CAEJ,4BACC;;sDACE,gRAAC,wPAAQ;4CAAC,WAAU;;;;;;wCAA+B;;iEAIrD;;sDACE,gRAAC,wPAAQ;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;AASrD"}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/KeywordPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Link2, \n  ExternalLink, \n  Home, \n  ChevronRight, \n  Loader2,\n  Check,\n  X,\n  Star\n} from 'lucide-react';\nimport { KeywordResult, SuggestedLink, ExternalLink as ExternalLinkType } from '@/types';\n\ninterface KeywordItemProps {\n  keyword: KeywordResult;\n  onSelectLink: (keyword: string, link: SuggestedLink | ExternalLinkType, type: 'internal' | 'external') => void;\n  isSelected: boolean;\n  selectedUrl?: string;\n}\n\nfunction KeywordItem({ keyword, onSelectLink, isSelected, selectedUrl }: KeywordItemProps) {\n  const { settings, externalLinksCache, setExternalLinksCache, setIsSearching } = useApp();\n  const [expanded, setExpanded] = useState(false);\n  const [loadingExternal, setLoadingExternal] = useState(false);\n\n  const externalLinks = externalLinksCache[keyword.keyword] || [];\n\n  const handleExpand = async () => {\n    setExpanded(!expanded);\n\n    // 如果展开且没有外链缓存，则搜索（对所有类型都搜索外链作为备选）\n    if (!expanded && externalLinks.length === 0) {\n      setLoadingExternal(true);\n      setIsSearching(true);\n\n      try {\n        const response = await fetch('/api/search', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            keyword: keyword.keyword,\n            preferredDomains: settings.preferredDomains,\n            blacklistedDomains: settings.blacklistedDomains,\n          }),\n        });\n\n        const result = await response.json();\n        if (result.success) {\n          setExternalLinksCache(keyword.keyword, result.data);\n        }\n      } catch (error) {\n        console.error('Search error:', error);\n      } finally {\n        setLoadingExternal(false);\n        setIsSearching(false);\n      }\n    }\n  };\n\n  const typeColors = {\n    internal: 'internal',\n    external: 'external',\n    both: 'default',\n  } as const;\n\n  return (\n    <div className=\"rounded-xl border border-slate-800 bg-slate-900/30 overflow-hidden transition-all duration-200 hover:border-slate-700\">\n      <button\n        onClick={handleExpand}\n        className=\"flex w-full items-center justify-between p-4 text-left transition-colors hover:bg-slate-800/30\"\n      >\n        <div className=\"flex items-center gap-3\">\n          <div className={`flex h-8 w-8 items-center justify-center rounded-lg ${\n            isSelected ? 'bg-emerald-500/20' : 'bg-slate-800'\n          }`}>\n            {isSelected ? (\n              <Check className=\"h-4 w-4 text-emerald-400\" />\n            ) : (\n              <Link2 className=\"h-4 w-4 text-slate-400\" />\n            )}\n          </div>\n          <div>\n            <span className=\"font-medium text-slate-200\">{keyword.keyword}</span>\n            <p className=\"text-xs text-slate-500 mt-0.5\">{keyword.context}</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant={typeColors[keyword.type]}>{keyword.type}</Badge>\n          <ChevronRight className={`h-4 w-4 text-slate-500 transition-transform ${expanded ? 'rotate-90' : ''}`} />\n        </div>\n      </button>\n\n      {expanded && (\n        <div className=\"border-t border-slate-800 bg-slate-950/50 p-4 space-y-4\">\n          {/* 内链建议 */}\n          {keyword.suggestedLinks.length > 0 && (\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center gap-2 text-xs font-medium text-slate-400 uppercase tracking-wide\">\n                <Home className=\"h-3 w-3\" />\n                Internal Links\n              </div>\n              {keyword.suggestedLinks.map((link, i) => (\n                <LinkOption\n                  key={link.url}\n                  link={link}\n                  type=\"internal\"\n                  isSelected={selectedUrl === link.url}\n                  onSelect={() => onSelectLink(keyword.keyword, link, 'internal')}\n                />\n              ))}\n            </div>\n          )}\n\n          {/* 外链建议 - 对所有类型都显示 */}\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-2 text-xs font-medium text-slate-400 uppercase tracking-wide\">\n              <ExternalLink className=\"h-3 w-3\" />\n              External Links\n            </div>\n            {loadingExternal ? (\n              <div className=\"flex items-center gap-2 py-4 text-slate-500\">\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                Searching...\n              </div>\n            ) : externalLinks.length > 0 ? (\n              externalLinks.map((link, i) => (\n                <LinkOption\n                  key={link.url}\n                  link={{\n                    url: link.url,\n                    title: link.title,\n                    description: link.snippet,\n                    type: 'external',\n                    relevanceScore: 80 - i * 10,\n                    isPreferred: settings.preferredDomains.some(d => link.url.includes(d)),\n                  }}\n                  type=\"external\"\n                  isSelected={selectedUrl === link.url}\n                  onSelect={() => onSelectLink(keyword.keyword, link, 'external')}\n                />\n              ))\n            ) : (\n              <p className=\"text-sm text-slate-500 py-2\">No external links found</p>\n            )}\n          </div>\n\n          {/* 不添加链接选项 */}\n          {isSelected && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onSelectLink(keyword.keyword, {} as SuggestedLink, 'internal')}\n              className=\"w-full text-slate-400 hover:text-red-400\"\n            >\n              <X className=\"mr-2 h-4 w-4\" />\n              Remove link\n            </Button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface LinkOptionProps {\n  link: SuggestedLink;\n  type: 'internal' | 'external';\n  isSelected: boolean;\n  onSelect: () => void;\n}\n\nfunction LinkOption({ link, type, isSelected, onSelect }: LinkOptionProps) {\n  return (\n    <button\n      onClick={onSelect}\n      className={`w-full rounded-lg border p-3 text-left transition-all ${\n        isSelected\n          ? 'border-emerald-500/50 bg-emerald-500/10'\n          : 'border-slate-800 bg-slate-900/50 hover:border-slate-700 hover:bg-slate-800/50'\n      }`}\n    >\n      <div className=\"flex items-start justify-between gap-2\">\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <p className=\"truncate text-sm font-medium text-slate-200\">{link.title}</p>\n            {link.isPreferred && (\n              <Star className=\"h-3 w-3 text-amber-400 shrink-0\" />\n            )}\n          </div>\n          <p className=\"mt-1 line-clamp-2 text-xs text-slate-500\">{link.description}</p>\n          <p className=\"mt-1 truncate text-xs text-slate-600\">{link.url}</p>\n        </div>\n        <div className={`shrink-0 rounded-full p-1 ${\n          isSelected ? 'bg-emerald-500' : 'bg-slate-800'\n        }`}>\n          {isSelected ? (\n            <Check className=\"h-3 w-3 text-white\" />\n          ) : (\n            <div className=\"h-3 w-3\" />\n          )}\n        </div>\n      </div>\n    </button>\n  );\n}\n\nexport function KeywordPanel() {\n  const { keywords, selectedLinks, addLink, removeLink } = useApp();\n\n  const handleSelectLink = (\n    keyword: string,\n    link: SuggestedLink | ExternalLinkType,\n    type: 'internal' | 'external'\n  ) => {\n    if (!link.url) {\n      removeLink(keyword);\n      return;\n    }\n\n    addLink({\n      keyword,\n      url: link.url,\n      title: link.title,\n      type,\n      anchorText: keyword,\n    });\n  };\n\n  if (keywords.length === 0) {\n    return null;\n  }\n\n  return (\n    <Card className=\"border-slate-800 bg-gradient-to-br from-slate-900 to-slate-900/50\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-purple-500/10\">\n            <Link2 className=\"h-5 w-5 text-purple-400\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-lg\">\n              Keywords Found\n              <Badge className=\"ml-2\" variant=\"secondary\">{keywords.length}</Badge>\n            </CardTitle>\n            <CardDescription>\n              Click on each keyword to select a link • {selectedLinks.length} selected\n            </CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-2\">\n          {keywords.map((kw) => (\n            <KeywordItem\n              key={kw.keyword}\n              keyword={kw}\n              onSelectLink={handleSelectLink}\n              isSelected={selectedLinks.some(l => l.keyword === kw.keyword)}\n              selectedUrl={selectedLinks.find(l => l.keyword === kw.keyword)?.url}\n            />\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\nimport { cn } from \"@/lib/utils\";\n\nconst Tabs = TabsPrimitive.Root;\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 items-center justify-center rounded-xl bg-slate-800/50 p-1 text-slate-400\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsList.displayName = TabsPrimitive.List.displayName;\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-emerald-500/25\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName;\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-4 focus-visible:outline-none\",\n      className\n    )}\n    {...props}\n  />\n));\nTabsContent.displayName = TabsPrimitive.Content.displayName;\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,OAAO,0MAAkB;AAE/B,MAAM,yBAAW,qPAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC,0MAAkB;QACjB,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,0MAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,qPAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC,6MAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,wVACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,6MAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,qPAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gRAAC,6MAAqB;QACpB,KAAK;QACL,WAAW,IAAA,2JAAE,EACX,mCACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,6MAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1530, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/OutputPreview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  FileCode, \n  Copy, \n  Check, \n  Download,\n  AlertCircle,\n  TrendingUp,\n  Link2,\n  Gauge,\n  Home,\n  ExternalLink\n} from 'lucide-react';\nimport { SEOScore } from '@/types';\n\nexport function OutputPreview() {\n  const { text, selectedLinks, seoScore, setSeoScore } = useApp();\n  const [copied, setCopied] = useState(false);\n  const [activeTab, setActiveTab] = useState('preview');\n\n  // 生成优化后的 Markdown\n  const optimizedMarkdown = useMemo(() => {\n    if (!text || selectedLinks.length === 0) return text;\n\n    let result = text;\n    \n    // 按位置从后往前替换，避免位置偏移\n    const sortedLinks = [...selectedLinks].sort((a, b) => {\n      const posA = text.toLowerCase().indexOf(a.keyword.toLowerCase());\n      const posB = text.toLowerCase().indexOf(b.keyword.toLowerCase());\n      return posB - posA;\n    });\n\n    for (const link of sortedLinks) {\n      const regex = new RegExp(`\\\\b(${escapeRegex(link.keyword)})\\\\b`, 'gi');\n      const replacement = `[${link.anchorText}](${link.url})`;\n      result = result.replace(regex, replacement);\n    }\n\n    return result;\n  }, [text, selectedLinks]);\n\n  // 生成带脚注的 Markdown\n  const markdownWithFootnotes = useMemo(() => {\n    if (!text || selectedLinks.length === 0) return text;\n\n    let result = text;\n    const footnotes: string[] = [];\n\n    const sortedLinks = [...selectedLinks].sort((a, b) => {\n      const posA = text.toLowerCase().indexOf(a.keyword.toLowerCase());\n      const posB = text.toLowerCase().indexOf(b.keyword.toLowerCase());\n      return posB - posA;\n    });\n\n    sortedLinks.forEach((link, index) => {\n      const footnoteNum = sortedLinks.length - index;\n      const regex = new RegExp(`\\\\b(${escapeRegex(link.keyword)})\\\\b`, 'gi');\n      result = result.replace(regex, `[${link.anchorText}][${footnoteNum}]`);\n      footnotes.unshift(`[${footnoteNum}]: ${link.url} \"${link.title}\"`);\n    });\n\n    return result + '\\n\\n' + footnotes.join('\\n');\n  }, [text, selectedLinks]);\n\n  // 计算 SEO 分数\n  useEffect(() => {\n    if (selectedLinks.length === 0) {\n      setSeoScore(null);\n      return;\n    }\n\n    const calculateScore = async () => {\n      try {\n        const response = await fetch('/api/score', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ text, selectedLinks }),\n        });\n\n        const result = await response.json();\n        if (result.success) {\n          setSeoScore(result.data);\n        }\n      } catch (error) {\n        console.error('Score calculation error:', error);\n      }\n    };\n\n    calculateScore();\n  }, [text, selectedLinks, setSeoScore]);\n\n  const handleCopy = async (content: string) => {\n    await navigator.clipboard.writeText(content);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const handleDownload = (content: string, filename: string) => {\n    const blob = new Blob([content], { type: 'text/markdown' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  if (!text || selectedLinks.length === 0) {\n    return null;\n  }\n\n  const internalCount = selectedLinks.filter(l => l.type === 'internal').length;\n  const externalCount = selectedLinks.filter(l => l.type === 'external').length;\n\n  return (\n    <Card className=\"border-slate-800 bg-gradient-to-br from-slate-900 to-slate-900/50\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-amber-500/10\">\n              <FileCode className=\"h-5 w-5 text-amber-400\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Optimized Output</CardTitle>\n              <CardDescription>\n                <span className=\"inline-flex items-center gap-4\">\n                  <span className=\"inline-flex items-center gap-1\">\n                    <Home className=\"h-3 w-3\" />\n                    {internalCount} internal\n                  </span>\n                  <span className=\"inline-flex items-center gap-1\">\n                    <ExternalLink className=\"h-3 w-3\" />\n                    {externalCount} external\n                  </span>\n                </span>\n              </CardDescription>\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={() => handleCopy(optimizedMarkdown)}\n            >\n              {copied ? (\n                <Check className=\"mr-1 h-4 w-4\" />\n              ) : (\n                <Copy className=\"mr-1 h-4 w-4\" />\n              )}\n              {copied ? 'Copied!' : 'Copy'}\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleDownload(optimizedMarkdown, 'optimized-article.md')}\n            >\n              <Download className=\"mr-1 h-4 w-4\" />\n              Download\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {/* SEO 评分 */}\n        {seoScore && <SEOScorePanel score={seoScore} />}\n\n        {/* 输出预览 */}\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\n          <TabsList className=\"w-full\">\n            <TabsTrigger value=\"preview\" className=\"flex-1\">Preview</TabsTrigger>\n            <TabsTrigger value=\"markdown\" className=\"flex-1\">Markdown</TabsTrigger>\n            <TabsTrigger value=\"footnotes\" className=\"flex-1\">With Footnotes</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"preview\" className=\"mt-4\">\n            <div \n              className=\"prose prose-invert prose-sm max-w-none rounded-lg border border-slate-800 bg-slate-950/50 p-4 max-h-[400px] overflow-y-auto\"\n              dangerouslySetInnerHTML={{ \n                __html: markdownToHtml(optimizedMarkdown) \n              }}\n            />\n          </TabsContent>\n\n          <TabsContent value=\"markdown\" className=\"mt-4\">\n            <div className=\"relative\">\n              <pre className=\"rounded-lg border border-slate-800 bg-slate-950/50 p-4 text-sm text-slate-300 max-h-[400px] overflow-auto font-mono whitespace-pre-wrap\">\n                {optimizedMarkdown}\n              </pre>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-2 top-2\"\n                onClick={() => handleCopy(optimizedMarkdown)}\n              >\n                <Copy className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"footnotes\" className=\"mt-4\">\n            <div className=\"relative\">\n              <pre className=\"rounded-lg border border-slate-800 bg-slate-950/50 p-4 text-sm text-slate-300 max-h-[400px] overflow-auto font-mono whitespace-pre-wrap\">\n                {markdownWithFootnotes}\n              </pre>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-2 top-2\"\n                onClick={() => handleCopy(markdownWithFootnotes)}\n              >\n                <Copy className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SEOScorePanel({ score }: { score: SEOScore }) {\n  const getScoreColor = (value: number) => {\n    if (value >= 80) return 'text-emerald-400';\n    if (value >= 60) return 'text-amber-400';\n    return 'text-red-400';\n  };\n\n  const getProgressColor = (value: number) => {\n    if (value >= 80) return 'bg-emerald-500';\n    if (value >= 60) return 'bg-amber-500';\n    return 'bg-red-500';\n  };\n\n  return (\n    <div className=\"rounded-xl border border-slate-800 bg-slate-950/30 p-4 space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Gauge className=\"h-5 w-5 text-slate-400\" />\n          <span className=\"font-medium text-slate-200\">SEO Score</span>\n        </div>\n        <div className={`text-2xl font-bold ${getScoreColor(score.overall)}`}>\n          {score.overall}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-4\">\n        <ScoreItem \n          label=\"Link Density\" \n          value={score.linkDensity} \n          icon={<Link2 className=\"h-4 w-4\" />}\n        />\n        <ScoreItem \n          label=\"Anchor Diversity\" \n          value={score.anchorDiversity}\n          icon={<TrendingUp className=\"h-4 w-4\" />}\n        />\n        <ScoreItem \n          label=\"Internal/External\" \n          value={score.internalExternalRatio}\n          icon={<Home className=\"h-4 w-4\" />}\n        />\n      </div>\n\n      {score.suggestions.length > 0 && (\n        <div className=\"space-y-2 pt-2 border-t border-slate-800\">\n          {score.suggestions.map((suggestion, i) => (\n            <div key={i} className=\"flex items-start gap-2 text-sm text-slate-400\">\n              <AlertCircle className=\"h-4 w-4 shrink-0 text-amber-400 mt-0.5\" />\n              {suggestion}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ScoreItem({ label, value, icon }: { label: string; value: number; icon: React.ReactNode }) {\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"flex items-center gap-1 text-xs text-slate-500\">\n        {icon}\n        {label}\n      </div>\n      <Progress value={value} className=\"h-1.5\" />\n      <div className=\"text-xs text-slate-400 text-right\">{value}%</div>\n    </div>\n  );\n}\n\n// 工具函数\nfunction escapeRegex(string: string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction markdownToHtml(markdown: string): string {\n  return markdown\n    // 链接\n    .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" class=\"text-emerald-400 hover:text-emerald-300 underline\" target=\"_blank\" rel=\"noopener\">$1</a>')\n    // 段落\n    .replace(/\\n\\n/g, '</p><p>')\n    .replace(/^/, '<p>')\n    .replace(/$/, '</p>');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2190, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/components/SettingsPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { useApp } from '@/context/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Settings, Plus, X, Star, Ban, Save } from 'lucide-react';\n\nexport function SettingsPanel() {\n  const { settings, setSettings } = useApp();\n  const [preferredInput, setPreferredInput] = useState('');\n  const [blacklistInput, setBlacklistInput] = useState('');\n\n  const addPreferredDomain = () => {\n    if (!preferredInput.trim()) return;\n    if (settings.preferredDomains.length >= 5) return;\n    \n    const domain = preferredInput.trim().toLowerCase().replace(/^https?:\\/\\//, '').replace(/\\/$/, '');\n    if (!settings.preferredDomains.includes(domain)) {\n      setSettings({\n        ...settings,\n        preferredDomains: [...settings.preferredDomains, domain],\n      });\n    }\n    setPreferredInput('');\n  };\n\n  const removePreferredDomain = (domain: string) => {\n    setSettings({\n      ...settings,\n      preferredDomains: settings.preferredDomains.filter(d => d !== domain),\n    });\n  };\n\n  const addBlacklistedDomain = () => {\n    if (!blacklistInput.trim()) return;\n    \n    const domain = blacklistInput.trim().toLowerCase().replace(/^https?:\\/\\//, '').replace(/\\/$/, '');\n    if (!settings.blacklistedDomains.includes(domain)) {\n      setSettings({\n        ...settings,\n        blacklistedDomains: [...settings.blacklistedDomains, domain],\n      });\n    }\n    setBlacklistInput('');\n  };\n\n  const removeBlacklistedDomain = (domain: string) => {\n    setSettings({\n      ...settings,\n      blacklistedDomains: settings.blacklistedDomains.filter(d => d !== domain),\n    });\n  };\n\n  return (\n    <Card className=\"border-slate-800 bg-gradient-to-br from-slate-900 to-slate-900/50\">\n      <CardHeader>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-500/10\">\n            <Settings className=\"h-5 w-5 text-slate-400\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-lg\">Link Preferences</CardTitle>\n            <CardDescription>Configure preferred and blocked domains</CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* 偏好域名 */}\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2\">\n            <Star className=\"h-4 w-4 text-amber-400\" />\n            <span className=\"text-sm font-medium text-slate-200\">Preferred Domains</span>\n            <span className=\"text-xs text-slate-500\">(max 5)</span>\n          </div>\n          <p className=\"text-xs text-slate-500\">\n            Links from these domains will be prioritized in search results\n          </p>\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"example.com\"\n              value={preferredInput}\n              onChange={(e) => setPreferredInput(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && addPreferredDomain()}\n              className=\"flex-1\"\n            />\n            <Button\n              variant=\"secondary\"\n              size=\"icon\"\n              onClick={addPreferredDomain}\n              disabled={settings.preferredDomains.length >= 5}\n            >\n              <Plus className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            {settings.preferredDomains.map((domain) => (\n              <Badge key={domain} variant=\"default\" className=\"gap-1 pr-1\">\n                <Star className=\"h-3 w-3\" />\n                {domain}\n                <button\n                  onClick={() => removePreferredDomain(domain)}\n                  className=\"ml-1 rounded-full p-0.5 hover:bg-white/20\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </Badge>\n            ))}\n            {settings.preferredDomains.length === 0 && (\n              <span className=\"text-xs text-slate-600\">No preferred domains set</span>\n            )}\n          </div>\n        </div>\n\n        {/* 黑名单域名 */}\n        <div className=\"space-y-3 pt-4 border-t border-slate-800\">\n          <div className=\"flex items-center gap-2\">\n            <Ban className=\"h-4 w-4 text-red-400\" />\n            <span className=\"text-sm font-medium text-slate-200\">Blocked Domains</span>\n          </div>\n          <p className=\"text-xs text-slate-500\">\n            Links from these domains will be excluded from results\n          </p>\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"spam-site.com\"\n              value={blacklistInput}\n              onChange={(e) => setBlacklistInput(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && addBlacklistedDomain()}\n              className=\"flex-1\"\n            />\n            <Button\n              variant=\"secondary\"\n              size=\"icon\"\n              onClick={addBlacklistedDomain}\n            >\n              <Plus className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            {settings.blacklistedDomains.map((domain) => (\n              <Badge key={domain} variant=\"destructive\" className=\"gap-1 pr-1\">\n                <Ban className=\"h-3 w-3\" />\n                {domain}\n                <button\n                  onClick={() => removeBlacklistedDomain(domain)}\n                  className=\"ml-1 rounded-full p-0.5 hover:bg-white/20\"\n                >\n                  <X className=\"h-3 w-3\" />\n                </button>\n              </Badge>\n            ))}\n            {settings.blacklistedDomains.length === 0 && (\n              <span className=\"text-xs text-slate-600\">No blocked domains</span>\n            )}\n          </div>\n        </div>\n\n        {/* 链接数量限制 */}\n        <div className=\"space-y-3 pt-4 border-t border-slate-800\">\n          <span className=\"text-sm font-medium text-slate-200\">Link Limits</span>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-1\">\n              <label className=\"text-xs text-slate-500\">Max Internal Links</label>\n              <Input\n                type=\"number\"\n                min={1}\n                max={20}\n                value={settings.maxInternalLinks}\n                onChange={(e) => setSettings({\n                  ...settings,\n                  maxInternalLinks: parseInt(e.target.value) || 10,\n                })}\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <label className=\"text-xs text-slate-500\">Max External Links</label>\n              <Input\n                type=\"number\"\n                min={1}\n                max={20}\n                value={settings.maxExternalLinks}\n                onChange={(e) => setSettings({\n                  ...settings,\n                  maxExternalLinks: parseInt(e.target.value) || 5,\n                })}\n              />\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2686, "column": 0}, "map": {"version":3,"sources":["file:///Users/briar/Downloads/link-optimizer/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { SiteScanner } from \"@/components/SiteScanner\";\nimport { TextEditor } from \"@/components/TextEditor\";\nimport { KeywordPanel } from \"@/components/KeywordPanel\";\nimport { OutputPreview } from \"@/components/OutputPreview\";\nimport { SettingsPanel } from \"@/components/SettingsPanel\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  Link2, \n  Sparkles, \n  Settings, \n  FileText,\n  Globe,\n  Zap,\n  Target,\n  BarChart3\n} from \"lucide-react\";\n\nexport default function Home() {\n  return (\n    <div className=\"min-h-screen bg-slate-950\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 border-b border-slate-800 bg-slate-950/80 backdrop-blur-xl\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex h-16 items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 shadow-lg shadow-emerald-500/25\">\n                <Link2 className=\"h-5 w-5 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-lg font-bold text-slate-100\">Link Optimizer Pro</h1>\n                <p className=\"text-xs text-slate-500\">AI-Powered Link Management</p>\n              </div>\n            </div>\n            <nav className=\"flex items-center gap-2\">\n              <a\n                href=\"https://github.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"rounded-lg px-3 py-2 text-sm text-slate-400 transition-colors hover:bg-slate-800 hover:text-slate-200\"\n              >\n                GitHub\n              </a>\n            </nav>\n          </div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"relative overflow-hidden border-b border-slate-800 bg-gradient-to-b from-slate-900 to-slate-950\">\n        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-emerald-900/20 via-transparent to-transparent\" />\n        <div className=\"relative mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8\">\n          <div className=\"text-center\">\n            <div className=\"mb-4 inline-flex items-center gap-2 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-4 py-1.5 text-sm text-emerald-400\">\n              <Sparkles className=\"h-4 w-4\" />\n              AI-Powered Link Optimization\n            </div>\n            <h2 className=\"mb-4 text-4xl font-bold tracking-tight text-slate-100 sm:text-5xl\">\n              Optimize Your Content Links\n              <br />\n              <span className=\"bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent\">\n                Internal & External\n              </span>\n            </h2>\n            <p className=\"mx-auto max-w-2xl text-lg text-slate-400\">\n              Scan your website for internal links, analyze your content with AI,\n              and get intelligent link suggestions to boost your SEO.\n            </p>\n          </div>\n\n          {/* Feature Cards */}\n          <div className=\"mt-12 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n            <FeatureCard\n              icon={<Globe className=\"h-5 w-5\" />}\n              title=\"Site Scanner\"\n              description=\"Auto-crawl your website to build an internal link database\"\n              color=\"blue\"\n            />\n            <FeatureCard\n              icon={<Sparkles className=\"h-5 w-5\" />}\n              title=\"AI Analysis\"\n              description=\"Gemini AI identifies keywords that need links\"\n              color=\"purple\"\n            />\n            <FeatureCard\n              icon={<Target className=\"h-5 w-5\" />}\n              title=\"Smart Matching\"\n              description=\"Match internal pages and find quality external links\"\n              color=\"emerald\"\n            />\n            <FeatureCard\n              icon={<BarChart3 className=\"h-5 w-5\" />}\n              title=\"SEO Scoring\"\n              description=\"Get real-time SEO scores and optimization tips\"\n              color=\"amber\"\n            />\n          </div>\n        </div>\n      </section>\n\n      {/* Main Content */}\n      <main className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n        <Tabs defaultValue=\"editor\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-3 lg:w-auto lg:inline-grid\">\n            <TabsTrigger value=\"editor\" className=\"gap-2\">\n              <FileText className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Editor</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"scanner\" className=\"gap-2\">\n              <Globe className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Site Scanner</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"settings\" className=\"gap-2\">\n              <Settings className=\"h-4 w-4\" />\n              <span className=\"hidden sm:inline\">Settings</span>\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"editor\" className=\"space-y-6\">\n            <div className=\"grid gap-6 lg:grid-cols-2\">\n              <div className=\"space-y-6\">\n                <TextEditor />\n                <KeywordPanel />\n              </div>\n              <div className=\"space-y-6\">\n                <OutputPreview />\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"scanner\">\n            <div className=\"mx-auto max-w-2xl\">\n              <SiteScanner />\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"settings\">\n            <div className=\"mx-auto max-w-2xl\">\n              <SettingsPanel />\n            </div>\n          </TabsContent>\n        </Tabs>\n      </main>\n\n      {/* Footer */}\n      <footer className=\"border-t border-slate-800 bg-slate-950\">\n        <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col items-center justify-between gap-4 sm:flex-row\">\n            <p className=\"text-sm text-slate-500\">\n              Built for West Shore Furniture content optimization\n            </p>\n            <div className=\"flex items-center gap-4 text-sm text-slate-500\">\n              <span>Powered by Gemini AI</span>\n              <span>•</span>\n              <span>Google Search API</span>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\ninterface FeatureCardProps {\n  icon: React.ReactNode;\n  title: string;\n  description: string;\n  color: \"blue\" | \"purple\" | \"emerald\" | \"amber\";\n}\n\nfunction FeatureCard({ icon, title, description, color }: FeatureCardProps) {\n  const colors = {\n    blue: \"from-blue-500/10 to-blue-500/5 border-blue-500/20 text-blue-400\",\n    purple: \"from-purple-500/10 to-purple-500/5 border-purple-500/20 text-purple-400\",\n    emerald: \"from-emerald-500/10 to-emerald-500/5 border-emerald-500/20 text-emerald-400\",\n    amber: \"from-amber-500/10 to-amber-500/5 border-amber-500/20 text-amber-400\",\n  };\n\n  return (\n    <div className={`rounded-2xl border bg-gradient-to-br p-5 ${colors[color]}`}>\n      <div className=\"mb-3\">{icon}</div>\n      <h3 className=\"mb-1 font-semibold text-slate-200\">{title}</h3>\n      <p className=\"text-sm text-slate-400\">{description}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}